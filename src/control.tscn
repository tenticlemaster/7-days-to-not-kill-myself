[gd_scene load_steps=10 format=3 uid="uid://1k7e3k7iq5i7"]

[ext_resource type="AudioStream" uid="uid://77n016jy5fmy" path="res://assets/sounds/Text_Articulator.mp3" id="1_0fbet"]
[ext_resource type="PackedScene" uid="uid://cgqthhtspepvv" path="res://project/components/CRT/crt_overlay.tscn" id="1_62e2m"]
[ext_resource type="AudioStream" uid="uid://b4g6awqu06qnr" path="res://assets/sounds/yay_16kbit.mp3" id="2_qtu10"]

[sub_resource type="GDScript" id="GDScript_kbped"]
script/source = "extends AudioStreamPlayer2D


func _ready() -> void:
	await get_tree().create_timer(3).timeout
	play()
"

[sub_resource type="GDScript" id="GDScript_62e2m"]
script/source = "extends VBoxContainer


var audio_player: AudioStreamPlayer2D


func _ready() -> void:
	await get_tree().create_timer(3).timeout
	
	audio_player = get_node(\"ButtonsSound\")
	
	get_node(\"NewGame\").grab_focus()
	
	for child in get_children():
		if child is Button:
			child.pressed.connect(_on_button_action)
			child.focus_entered.connect(_on_button_action)


func _on_button_action() -> void:
	audio_player.play()
"

[sub_resource type="GDScript" id="GDScript_qtu10"]
script/source = "extends Button


func _ready() -> void:
	pressed.connect(_on_pressed)


func _on_pressed() -> void:
	await get_tree().create_timer(1).timeout
	get_tree().change_scene_to_file(\"res://project/TestMap.tscn\")
"

[sub_resource type="GDScript" id="GDScript_fj5cn"]
script/source = "extends Button


func _ready() -> void:
	pressed.connect(_on_pressed)


func _on_pressed() -> void:
	await get_tree().create_timer(1).timeout
	get_tree().change_scene_to_file(\"res://credits.tscn\")
"

[sub_resource type="GDScript" id="GDScript_ee4bf"]
script/source = "extends Button


func _ready() -> void:
	pressed.connect(_on_pressed)


func _on_pressed() -> void:
	await get_tree().create_timer(1).timeout
	get_tree().quit()
"

[sub_resource type="GDScript" id="GDScript_uchyk"]
script/source = "extends ColorRect


func _ready() -> void:
	await get_tree().create_timer(3).timeout
	visible = false


func _on_new_game_pressed() -> void:
	visible = true


func _on_exit_pressed() -> void:
	visible = true


func _on_credits_pressed() -> void:
	visible = true
"

[node name="Control" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="CRTOverlay" parent="." instance=ExtResource("1_62e2m")]

[node name="ColorRect" type="ColorRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="Label" type="Label" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -329.5
offset_top = -147.0
offset_right = 329.5
offset_bottom = 35.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 150
text = "YOU WIN"

[node name="Yay" type="AudioStreamPlayer2D" parent="."]
position = Vector2(0, -50)
stream = ExtResource("2_qtu10")
script = SubResource("GDScript_kbped")

[node name="MenuButtons" type="VBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -84.0
offset_top = 27.5
offset_right = 84.0
offset_bottom = 134.5
grow_horizontal = 2
grow_vertical = 2
script = SubResource("GDScript_62e2m")

[node name="NewGame" type="Button" parent="MenuButtons"]
layout_mode = 2
text = "New Game"
script = SubResource("GDScript_qtu10")

[node name="Credits" type="Button" parent="MenuButtons"]
layout_mode = 2
text = "Credits"
script = SubResource("GDScript_fj5cn")

[node name="Exit" type="Button" parent="MenuButtons"]
layout_mode = 2
text = "Exit
"
script = SubResource("GDScript_ee4bf")

[node name="ButtonsSound" type="AudioStreamPlayer2D" parent="MenuButtons"]
stream = ExtResource("1_0fbet")

[node name="TransitionScreen" type="ColorRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)
script = SubResource("GDScript_uchyk")

[connection signal="pressed" from="MenuButtons/NewGame" to="TransitionScreen" method="_on_new_game_pressed"]
[connection signal="pressed" from="MenuButtons/Credits" to="TransitionScreen" method="_on_credits_pressed"]
[connection signal="pressed" from="MenuButtons/Exit" to="TransitionScreen" method="_on_exit_pressed"]
